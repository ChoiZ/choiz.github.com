<!DOCTYPE html>
<html lang="fr">
<head>
  <link href="//fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,400italic" rel="stylesheet" type="text/css">
  <link rel="stylesheet" type="text/css" href="//www.choiz.fr/theme/css/style.min.css">
  <link rel="stylesheet" type="text/css" href="//www.choiz.fr/theme/css/pygments.min.css">
  <link rel="stylesheet" type="text/css" href="//www.choiz.fr/theme/css/font-awesome.min.css">
  <link href="//www.choiz.fr/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="ChoiZ Atom">
  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
  <link rel="icon" href="favicon.ico" type="image/x-icon">
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="robots" content="index, follow" />
  <meta name="author" content="François LASSERRE" />
  <meta name="description" content="" />
<meta property="og:site_name" content="ChoiZ"/>
<meta property="og:type" content="blog"/>
<meta property="og:title" content="ChoiZ"/>
<meta property="og:description" content=""/>
<meta property="og:locale" content="fr_FR"/>
<meta property="og:url" content="//www.choiz.fr"/>
  <title>ChoiZ</title>
</head>
<body>
  <aside>
    <div>
      <a href="//www.choiz.fr">
        <img src="//www.choiz.fr/theme/img/profile.png" alt="Blog technique de François LASSERRE" title="Blog technique de François LASSERRE">
      </a>
      <div>
          <a href="//www.choiz.fr">Blog technique de François LASSERRE</a>
      </div>
      <nav>
        <ul class="list">
          <li><a href="/">Home</a></li>
          <li><a href="/archives">Archives</a></li>
          <li><a href="/tags">Tags</a></li>
        </ul>
      </nav>
      <p>Je suis ingénieur informatique, je travail en tant que DevOps chez <a href="//www.manomano.fr">ManoMano</a>. J'aime le développement, le streaming, l'Internet…<br><br>Depuis l'an 2000, j'ai fondé plusieurs webradios Radio-Psylone, Live9 ou encore AddictRadio.</p>
      <ul class="social">
        <li><a class="sc-github" href="//www.github.com/ChoiZ"><i class="fa fa-github"></i></a></li>
        <li><a class="sc-flickr" href="//www.flickr.com/ChoiZ"><i class="fa fa-flickr"></i></a></li>
        <li><a class="sc-lastfm" href="//www.last.fm/user/ChoiZ"><i class="fa fa-lastfm"></i></a></li>
        <li><a class="sc-twitter" href="//www.twitter.com/ChoiZ"><i class="fa fa-twitter"></i></a></li>
        <li><a class="sc-facebook" href="//www.facebook.com/ChoiZ"><i class="fa fa-facebook"></i></a></li>
        <li><a class="sc-foursquare" href="//www.foursquare.com/ChoiZ"><i class="fa fa-foursquare"></i></a></li>
        <li><a class="sc-linkedin" href="//www.linkedin.com/in/ChoiZ"><i class="fa fa-linkedin"></i></a></li>
      </ul>
    </div>
  </aside>
  <main>

<article>
  <header>
    <h2><a href="//www.choiz.fr/2017-08-26-installation-de-proxmox-ve-5-sur-debian-stretch.html">Installation de Proxmox-VE 5 sur Debian Stretch</a></h2>
    <p>
      Posté le sam. 26 août 2017 &#8226;
Tags :
      <a href="//www.choiz.fr/tag/proxmox.html">Proxmox</a>,      <a href="//www.choiz.fr/tag/debian.html">Debian</a>,      <a href="//www.choiz.fr/tag/stretch.html">Stretch</a>    </p>
  </header>
  <div>
      <p>Suite à l'installation de mon NAS, j'ai installer un proxmox dessus.
Par contre il ne faut pas modifier le sources.list ni installer
firmware-linux-nonfree avant d'installer proxmox (celà ne fonctionne pas du
tout).</p>
<p>Sur debian éditer le fichier /etc/hosts comme ceci :</p>
<div class="highlight"><pre><span></span>127.0.0.1       localhost.localdomain localhost
192.168.15.77   prox4m1.proxmox.com prox4m1 pvelocalhost

# The following lines are desirable for IPv6 capable hosts
::1     localhost ip6-localhost ip6-loopback
ff02::1 ip6-allnodes
ff02::2 ip6-allrouters
</pre></div>


<p>Puis tester la configuration :</p>
<div class="highlight"><pre><span></span>hostname --ip-address
192.168.15.77 # should return here your IP adress
</pre></div>


<p>Puis on ajoute au sources.list le dépot de proxmox, on récupere la clé et on
update :</p>
<div class="highlight"><pre><span></span>echo &quot;deb http://download.proxmox.com/debian/pve stretch pve-no-subscription&quot; &gt; /etc/apt/sources.list.d/pve-install-repo.list
wget http://download.proxmox.com/debian/proxmox-ve-release-5.x.gpg -O /etc/apt/trusted.gpg.d/proxmox-ve-release-5.x.gpg
apt update &amp;&amp; apt dist-upgrade
</pre></div>


<p>Puis on install les packages Proxmox VE :</p>
<div class="highlight"><pre><span></span>apt install proxmox-ve postfix open-iscsi
</pre></div>


<p>On configure postfix en distribution locale uniquement et à la fin de
l'installation on reboot.</p>
<p>Au reboot vous devriez avoir la main en https sur https://ip_proxmox:8006</p>
<p>S'identifier avec vos login / pass debian.</p>
<p>Pour ne pas avoir la popup qui indique que vous n'avez pas de souscription il
faut modifier le fichier /usr/share/pve-manager/js/pvemanagerlib.js et
rechercher la ligne avec :</p>
<p><code>if (data.status !== 'Active') {</code></p>
<p>remplacer par :</p>
<p><code>if (false /*data.status !== 'Active'*/) {</code></p>
<p>Puis relancer pveproxy avec la commande <code>pveproxy restart</code></p>
<p>Se déconnecter de l'interface proxmox, à la reconnection vous n'aurez plus le
message de souscription.</p>
<p>Puis faire les commandes optionnelles :</p>
<div class="highlight"><pre><span></span>apt remove os-prober
apt remove linux-image-amd64 linux-image-4.9.0-3-amd64
update-grub
</pre></div>
  </div>
  <hr />
</article>
<article>
  <header>
    <h2><a href="//www.choiz.fr/2017-08-26-remplacer-sa-livebox-par-un-unifi-security-gateway-3p-(usg).html">Remplacer sa livebox par un UniFi Security Gateway 3P (USG)</a></h2>
    <p>
      Posté le sam. 26 août 2017 &#8226;
Tags :
      <a href="//www.choiz.fr/tag/unifi.html">UniFi</a>,      <a href="//www.choiz.fr/tag/gateway.html">Gateway</a>,      <a href="//www.choiz.fr/tag/livebox.html">Livebox</a>,      <a href="//www.choiz.fr/tag/usg.html">USG</a>,      <a href="//www.choiz.fr/tag/network.html">Network</a>    </p>
  </header>
  <div>
      <p>Ayant pas mal utilisé le materiel d'ubiquiti j'ai acheté un USG 3 pour la maison.</p>
<p>En recherchant un peu sur le net j'ai vu qu'il était possible de remplacer la
livebox par l'USG tout en concervant la télévision etc… grâce a des VLANs.</p>
<p>Il y a pas mal de manipulations a faire avant de pouvoir remplacer totalement sa
livebox par l'USG.</p>
<p>J'ai utilisé un raspberry pi qui me permet d'installer un controlleur UniFi qui
permet de gerer son matériel de la marque.</p>
<p>En branchant l'USG au secteur il prend l'adresse IP 192.168.1.1 (la même que la
livebox dans un premier temps ça aide pas…). Je branche donc l'USG en direct sur
mon poste et je me connect en ssh dessus avec les login / pass : "ubnt / ubnt".</p>
<p>Une fois connecté en ssh il faut reconfigurer l'interface eth1 avec l'adresse IP
de votre choix :</p>
<div class="highlight"><pre><span></span># configure
$ set interfaces ethernet eth0 address 192.168.1.10/24
$ delete interfaces ethernet eth0 address 192.168.1.1/24
$ commit
</pre></div>


<p>On commence par dire qu'on assigne sur eth0 l'IP 192.168.1.10 avec un masque
255.255.255.0 et ensuite on supprime l'IP 192.168.1.1 puis on commit. A ce
moment on se fait déconnecté du SSH vu que l'IP à changée.</p>
<p>Si besoin vous pouvez vous reconnecter avec 192.168.1.10.</p>
<p>L'autre méthode pour changer d'IP est de configurer dans le controlleur UniFi
l'IP de votre réseau en 192.168.1.10/24 ensuite il va reprovisionner l'USG avec
cette IP.</p>
  </div>
  <hr />
</article>
<article>
  <header>
    <h2><a href="//www.choiz.fr/2017-08-26-upgrade-nas.html">Upgrade NAS</a></h2>
    <p>
      Posté le sam. 26 août 2017 &#8226;
Tags :
      <a href="//www.choiz.fr/tag/nas.html">NAS</a>,      <a href="//www.choiz.fr/tag/hp.html">HP</a>,      <a href="//www.choiz.fr/tag/microserver.html">Microserver</a>,      <a href="//www.choiz.fr/tag/debian.html">Debian</a>,      <a href="//www.choiz.fr/tag/proxmox.html">Proxmox</a>,      <a href="//www.choiz.fr/tag/stockage.html">Stockage</a>,      <a href="//www.choiz.fr/tag/data.html">Data</a>    </p>
  </header>
  <div>
      <p>J'ai acheté il y a quelques années un HP Microserver Gen7 qui me sert de NAS,
dessus j'avais installé Debian 6 à l'époque puis j'ai mis à jour jusqu'à la version 9.</p>
<p>Mon objectif est l'ajout d'un disque car j'ai 4 emplacements pour le stockage et
je n'utilisais que 3 de ses 4 emplacements.</p>
<p>Pour commencer il me fallait un rack 5"¼ permettant de mettre un disque 3"½ ou
2"½, je l'ai trouvé sur <a href="http://www.ldlc.com/fiche/PB00157318.html">LDLC</a> c'est
un "ICY BOX IB-129SSK-B", ensuite j'ai pris sur
<a href="https://www.amazon.fr/gp/product/B01LZY5T8Y/ref=oh_aui_detailpage_o02_s00?ie=UTF8&amp;psc=1">Amazon</a>
un disque Seagate ST500LM030 en 2"½ de 500Go et j'avais ce qu'il fallait pour le
SATA et l'alimentation.</p>
<p>Ce qui m'a permis de mettre un disque 2"½ au niveau de l'emplacement CDROM du HP
Microserver.</p>
<p>J'ai du tué mon uptime d'un an (depuis mon dernier déménagement) :</p>
<div class="highlight"><pre><span></span> 12:31:37 choiz@wayland ~  #❯❯❯ uptime
 12:31:37 up 366 days,  1:08,  1 user,  load average: 0,16, 0,22, 0,24
</pre></div>


<p>Pour la réinstallation j'ai monté un <a href="https://wiki.debian-fr.xyz/PXE_avec_support_EFI">serveur PXE sur
debian</a> merci Benjamin pour le
lien et les conseils.</p>
<p>Installationn du TFTP :</p>
<div class="highlight"><pre><span></span># apt-install -y tftpd-hpa
</pre></div>


<p>Si vous avez un pare-feu n'oubliez pas d'ouvrir le port 69 :</p>
<div class="highlight"><pre><span></span># iptables -A INPUT -p udp -m udp --dport 69 -j ACCEPT
</pre></div>


<p>Installer le serveur DHCP :</p>
<div class="highlight"><pre><span></span># apt install isc-dhcp-server
</pre></div>


<p>Mes IP sont dans le réseau 192.168.1.0/24, mon router en 192.168.1.1, je met un
range entre 192.168.1.100 et 192.168.1.150 mon serveur TFTP est en 192.168.1.2.</p>
<p>Voici la conf d'isc-dhcp-server :</p>
<div class="highlight"><pre><span></span>default-lease-time 600;
max-lease-time 7200;

allow booting;

# in this example, we serve DHCP requests from 192.168.1.(3 to 253)
# and we have a router at 192.168.1.1
subnet 192.168.1.0 netmask 255.255.255.0 {
  range 192.168.1.100 192.168.1.150;
  option broadcast-address 192.168.1.255;
  option routers 192.168.1.1;
  option domain-name-servers 192.168.1.1;
  filename &quot;pxelinux.0&quot;;
}

group {
  next-server 192.168.1.2;
  host tftpclient {
    filename &quot;pxelinux.0&quot;;
  }
}
</pre></div>


<p>Redémarrer le DHCP pour que la config soit prise en compte.</p>
<div class="highlight"><pre><span></span># systemctl restart isc-dhcp-server
</pre></div>


<p>Maintenant nous téléchargeons la dernière version de debian pour la mettre sur
notre TFTP :</p>
<div class="highlight"><pre><span></span># cd /srv/tftp/
# wget -c http://ftp.fr.debian.org/debian/dists/stretch/main/installer-amd64/current/images/netboot/netboot.tar.gz
# tar -zxf netboot.tar.gz
# rm netboot.tar.gz
# systemctl restart tftpd-hpa
</pre></div>


<p>Le PXE est maintenant fonctionnel avec l'installation de debian.</p>
<p>Je réinstall donc debian 9.1 proprement.</p>
<p>Pour éviter d'avoir ses messages d'erreurs :</p>
<div class="highlight"><pre><span></span><span class="n">W</span><span class="o">:</span> <span class="n">Possible</span> <span class="n">missing</span> <span class="n">firmware</span> <span class="sr">/lib/firmware/tigon/</span><span class="n">tg3_tso5</span><span class="o">.</span><span class="na">bin</span> <span class="k">for</span> <span class="n">module</span> <span class="n">tg3</span>
<span class="n">W</span><span class="o">:</span> <span class="n">Possible</span> <span class="n">missing</span> <span class="n">firmware</span> <span class="sr">/lib/firmware/tigon/</span><span class="n">tg3_tso</span><span class="o">.</span><span class="na">bin</span> <span class="k">for</span> <span class="n">module</span> <span class="n">tg3</span>
<span class="n">W</span><span class="o">:</span> <span class="n">Possible</span> <span class="n">missing</span> <span class="n">firmware</span> <span class="sr">/lib/firmware/tigon/</span><span class="n">tg3</span><span class="o">.</span><span class="na">bin</span> <span class="k">for</span> <span class="n">module</span> <span class="n">tg3</span>
</pre></div>


<p>Je modifie mon fichier /etc/apt/sources.list et j'ajoute les "non-free".</p>
<p>Puis j'install le firmware-linux-nonfree :</p>
<div class="highlight"><pre><span></span>apt update
apt install firmware-linux-nonfree
</pre></div>


<p>Il me reste plus qu'a remonter mes disques de backup et de refaire mes partages.</p>
  </div>
  <hr />
</article>
<article>
  <header>
    <h2><a href="//www.choiz.fr/2017-06-05-re-generer-une-cle-rsa-publique.html">Re-générer une clé rsa publique</a></h2>
    <p>
      Posté le lun. 05 juin 2017 &#8226;
Tags :
      <a href="//www.choiz.fr/tag/id_rsa.html">id_rsa</a>,      <a href="//www.choiz.fr/tag/rsa.html">rsa</a>,      <a href="//www.choiz.fr/tag/pub.html">pub</a>,      <a href="//www.choiz.fr/tag/key.html">key</a>,      <a href="//www.choiz.fr/tag/ssh.html">ssh</a>    </p>
  </header>
  <div>
      <p>Si vous n'avez plus de clé publique, mais que vous avez toujours votre clé privée vous pouvez regénérer votre clé
publique.</p>
<p>Pour se faire il faut utiliser la commande <em>ssh-keygen</em> avec l'option <em>-y</em> et <em>-f</em> pour désigner la clé privé.</p>
<p><code>ssh-keygen -y -f ~/.ssh/id_rsa &gt; ~/.ssh/id_rsa.pub</code></p>
<p>On utilise ci-dessus l'id_rsa (privée) pour générer l'id_rsa.pub.</p>
  </div>
  <hr />
</article>
<article>
  <header>
    <h2><a href="//www.choiz.fr/2017-06-01-utiliser-un-bastion-ssh.html">Utiliser un Bastion SSH</a></h2>
    <p>
      Posté le jeu. 01 juin 2017 &#8226;
Tags :
      <a href="//www.choiz.fr/tag/ssh.html">SSH</a>,      <a href="//www.choiz.fr/tag/bastion.html">Bastion</a>,      <a href="//www.choiz.fr/tag/linux.html">linux</a>,      <a href="//www.choiz.fr/tag/unix.html">unix</a>,      <a href="//www.choiz.fr/tag/tunnel.html">tunnel</a>    </p>
  </header>
  <div>
      <p>Pour créer un Bastion SSH il suffit de modifier votre configuration ssh qui se
trouve dans <em>~/.ssh/config</em> et d'ajouter les deux lignes suivantes :</p>
<div class="highlight"><pre><span></span>Host destination.local
    ProxyCommand ssh user@bastion.fr -W %h:%p
</pre></div>


<p>C'est tout.</p>
<p>Explications : on utilise l'host <em>bastion.fr</em> pour se connecter à
<em>destination.local</em>. Quand je tape sur ma machine local <em>ssh
choiz@destination.local</em> mon client SSH lit le fichier de configuration, se
connecte à l'host <em>bastion.fr</em> avec l'utilisateur <em>user</em> puis fait une nouvelle
connexion vers ma destination.</p>
<p>Vous pouvez modifier votre configuration ssh pour se connecter à votre bastion
avec une clé spécifique puis a votre destination avec une autre clé par exemple
ou avec des utilisateurs différents…</p>
<p>Exemple :</p>
<div class="highlight"><pre><span></span>Host bastion.fr
    User toto
    IdentifyFile ~/.ssh/bastion

Host destination.local
    User tata
    IdentifyFile ~/.ssh/destination
</pre></div>


<p>Enjoy vincent.m ;-)</p>
  </div>
  <hr />
</article>
<article>
  <header>
    <h2><a href="//www.choiz.fr/2017-05-14-docker-commandes-utiles.html">Docker commandes utiles</a></h2>
    <p>
      Posté le dim. 14 mai 2017 &#8226;
Tags :
      <a href="//www.choiz.fr/tag/docker.html">docker</a>,      <a href="//www.choiz.fr/tag/linux.html">linux</a>,      <a href="//www.choiz.fr/tag/container.html">container</a>    </p>
  </header>
  <div>
      <p>Voici quelques commandes très utiles si vous utilisez docker.</p>
<p>Supprimer tous les containers qui sont arétés :</p>
<div class="highlight"><pre><span></span>docker ps -q | xargs docker rm
</pre></div>


<p>Supprimer toutes les images non utilisées :</p>
<div class="highlight"><pre><span></span>docker images -q | xargs docker rmi
</pre></div>


<p>Se connecter a un conteneur docker lancé par son id :</p>
<div class="highlight"><pre><span></span>docker exec -it id_de_votre_container /bin/bash
</pre></div>


<p>Se connecter a un conteneur docker lancé par son nom :</p>
<div class="highlight"><pre><span></span>docker exec -it nom_de_votre_container /bin/bash
</pre></div>
  </div>
  <hr />
</article>
<article>
  <header>
    <h2><a href="//www.choiz.fr/2016-07-30-convertir-un-.deb-en-archive-.tar.gz.html">Convertir un .deb en archive .tar.gz</a></h2>
    <p>
      Posté le sam. 30 juillet 2016 &#8226;
Tags :
      <a href="//www.choiz.fr/tag/deb.html">deb</a>,      <a href="//www.choiz.fr/tag/targz.html">tar.gz</a>,      <a href="//www.choiz.fr/tag/debian.html">debian</a>,      <a href="//www.choiz.fr/tag/ubuntu.html">ubuntu</a>,      <a href="//www.choiz.fr/tag/archive.html">archive</a>,      <a href="//www.choiz.fr/tag/gentoo.html">gentoo</a>,      <a href="//www.choiz.fr/tag/linux.html">linux</a>    </p>
  </header>
  <div>
      <p>En voulant installer le logiciel "slack" sur ma machine gentoo au travail j'ai
trouvé un logiciel plutôt intéressant nommé "deb2targz".</p>
<p>En effet <a href="https://slack.com/downloads">slack</a> ne dispose que des archives ubuntu
en 32 bits, 64 bits et fedora en 64 bits.</p>
<p>deb2targz permet de convertir un fichier ".deb" en archive ".tar.gz".</p>
<p>Si vous êtes sur gentoo installez le via : <code>emerge -a app-arch/deb2targz</code></p>
  </div>
  <hr />
</article>
<article>
  <header>
    <h2><a href="//www.choiz.fr/2016-05-21-installation-de-xubuntu-16-04-sur-ASUS-X205TA.html">Installation de xubuntu 16.04 sur ASUS X205TA</a></h2>
    <p>
      Posté le sam. 21 mai 2016 &#8226;
Tags :
      <a href="//www.choiz.fr/tag/xubuntu.html">xubuntu</a>,      <a href="//www.choiz.fr/tag/linux.html">linux</a>,      <a href="//www.choiz.fr/tag/asus-x205ta.html">Asus X205TA</a>,      <a href="//www.choiz.fr/tag/64bits.html">64bits</a>,      <a href="//www.choiz.fr/tag/ubuntu.html">ubuntu</a>    </p>
  </header>
  <div>
      <p>J'ai récement acheté un ASUS X205TA, livré avec Windows
10 (32 bits), un disque SSD de 32Go et 2Go de ram et pour un prix de 210€.</p>
<p>J'ai installé xubuntu 16.04 (64 bits) sur une partition séparée pour garder Windows 10.</p>
<p>L'installation est plutôt complexe car le "bootloader" est en 32bits (je pense
d'ailleurs que c'est pour ça qu'il est livré avec un windows 32bits et non
64bits).</p>
<p>Voici <a href="http://ubuntuforums.org/showthread.php?t=2254322&amp;page=92&amp;p=13474817#post13474817">un message</a> qui explique l'installation simple d'ubuntu (remplacer l'iso
par xubuntu ou autre).</p>
<p>Pour l'instant : la carte son n'est pas reconnue et le pointeur de la souris
disparait suite a la mise en veille… Mis a part ça la machine fonctionne très
bien pour mon utilisation (des petits développements pendant mes trajets maison &lt;-&gt; travail).</p>
  </div>
  <hr />
</article>
<article>
  <header>
    <h2><a href="//www.choiz.fr/2016-04-28-passage-en-ssl-du-blog.html">Passage en SSL du blog</a></h2>
    <p>
      Posté le jeu. 28 avril 2016 &#8226;
Tags :
      <a href="//www.choiz.fr/tag/blog.html">blog</a>,      <a href="//www.choiz.fr/tag/ssl.html">ssl</a>,      <a href="//www.choiz.fr/tag/https.html">https</a>,      <a href="//www.choiz.fr/tag/github.html">github</a>,      <a href="//www.choiz.fr/tag/page.html">page</a>    </p>
  </header>
  <div>
      <p>J'utilise pelican sur github pour écrire mon blog depuis quelques temps, voir les
articles précédents sur le sujet.</p>
<p>J'ai décidé de passer le blog en https, avec un certificat gratuit let's encrypt.</p>
<p>Pour mettre en place un certificat SSL sur "github page" il faut avoir un serveur web qui
fait reverse proxy. J'utilise donc apache avec la configuration suivante :</p>
<ul>
<li>Un vhost pour "choiz.fr" qui redirige le port 80 de "choiz.fr" vers le 443 de "www.choiz.fr".</li>
<li>Un vhost pour "choiz.fr" qui redirige le port 443 (avec un certificat ssl
valide) de "choiz.fr" vers le 443 de
"www.choiz.fr".</li>
<li>Un vhost pour "www.choiz.fr" qui redirige le port 80 de "www.choiz.fr" vers
le 443 de "www.choiz.fr".</li>
<li>Et un vhost avec le certificat SSL ainsi que le reverse proxy qui fait croire a
github que je tape directement l'url "http://choiz.github.io".</li>
</ul>
<p>Ici la configuration du dernier vhost :</p>
<div class="highlight"><pre><span></span><span class="nt">&lt;IfModule</span> <span class="err">mod_ssl.c</span><span class="nt">&gt;</span>
<span class="nt">&lt;VirtualHost</span> <span class="err">*:443</span><span class="nt">&gt;</span>
    ServerName www.choiz.fr

    SSLProxyEngine On
    ProxyRequests Off
    ProxyPreserveHost Off
    ProxyPass / https://choiz.github.io/
    ProxyPassReverse / https://choiz.github.io/
    ProxyPassReverse / http://choiz.github.io/

    # puis la config du SSL
    SSLEngine On
    SSLCertificateFile …
    SSLCertificateKeyFile …
<span class="nt">&lt;/VirtualHost&gt;</span>
<span class="nt">&lt;/IfModule&gt;</span>
</pre></div>
  </div>
  <hr />
</article>
<article>
  <header>
    <h2><a href="//www.choiz.fr/2015-11-21-mise-a-jour-d-un-kernel-gentoo.html">Mise à jour d'un kernel gentoo</a></h2>
    <p>
      Posté le sam. 21 novembre 2015 &#8226;
Tags :
      <a href="//www.choiz.fr/tag/gentoo.html">gentoo</a>,      <a href="//www.choiz.fr/tag/kernel.html">kernel</a>,      <a href="//www.choiz.fr/tag/upgrade.html">upgrade</a>,      <a href="//www.choiz.fr/tag/noyaux.html">noyaux</a>,      <a href="//www.choiz.fr/tag/linux.html">linux</a>    </p>
  </header>
  <div>
      <p>Étant actuellement sur un noyau en version 4.2.0, ci-dessous la marche a
suivre pour le mettre à jour vers la version : 4.3.0.</p>
<p>Je liste les différents noyaux gentoo disponibles :</p>
<div class="highlight"><pre><span></span>eix sys-kernel/gentoo-sources
</pre></div>


<p>Je télécharge le noyau 4.3.0 :</p>
<div class="highlight"><pre><span></span>emerge -a =sys-kernel/gentoo-sources-4.3.0
</pre></div>


<p>Une fois téléchargé, il faut modifier le lien symbolique /usr/src/linux
grâce à eselect.</p>
<p>J'affiche la liste des noyaux (celui actuellement selectionné est suivi
d'une étoile) :</p>
<div class="highlight"><pre><span></span>eselect kernel list

[1]     linux-4.2.0-gentoo *
[2]     linux-4.3.0-gentoo
</pre></div>


<p>Pour selectionner notre noyau 4.3.0 il faut utiliser :</p>
<div class="highlight"><pre><span></span>eselect kernel set 2
</pre></div>


<p>Maintenant que vous avez selectionné votre noyau, copier le fichier
".config" de votre noyau précédent (pour conserver vos réglages de
compilation) :</p>
<div class="highlight"><pre><span></span>cp /usr/src/linux-4.2.0-gentoo/.config /usr/src/linux
</pre></div>


<p>Puis <a href="http://www.choiz.fr/2015-09-06-compilation-kernel-gentoo.html">compiler votre
kernel</a>.</p>
  </div>
</article>

  <div class="pagination">
    <a class="btn" href="//www.choiz.fr/index2.html">
      <i class="fa fa-angle-left"></i> Anciens articles
    </a>
  </div>

    <footer>
      <p>&copy; François LASSERRE </p>
<p>Built using <a href="http://getpelican.com" target="_blank">Pelican</a> - <a href="https://github.com/choiz/Flexfork" target="_blank">Flexfork</a> theme by <a href="http://www.choiz.fr">François LASSERRE</a></p>    </footer>
  </main>
<!-- Piwik -->
<script type="text/javascript">
  var _paq = _paq || [];
  _paq.push(["setDomains", ["*.www.choiz.fr"]]);
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="//stats.rocketip.net/";
    _paq.push(['setTrackerUrl', u+'piwik.php']);
    _paq.push(['setSiteId', '7042kjNK6PYV9LoGM5np']);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
  })();
</script>
<noscript><p><img src="//stats.rocketip.net/piwik.php?idsite=7042kjNK6PYV9LoGM5np" style="border:0;" alt="" /></p></noscript>
<!-- End Piwik Code --><script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " ChoiZ ",
  "url" : "//www.choiz.fr",
  "image": "",
  "description": ""
}
</script></body>
</html>